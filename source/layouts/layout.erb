<!doctype html>
<html>
  <head>
    <meta charset="utf-8">

    <!-- Always force latest IE rendering engine or request Chrome Frame -->
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">

    <!-- Use title if it's in the page YAML frontmatter -->
    <title><%= current_page.data.title || "Rogue Codewright" %></title>

    <link href='http://fonts.googleapis.com/css?family=Fauna+One' rel='stylesheet' type='text/css'>

    <%= stylesheet_link_tag "normalize", "all" %>
    <%= javascript_include_tag  "all" %>
  </head>

  <body>
    <div class='center'>
      <div class='blog-content'><%= yield %></div>

      <div class='sidebar-right'>
        <span class='title'>Recent Articles</span>
        <ul>
          <% blog.articles[0...10].each do |article| %>
            <li><%= link_to article.title, article %>
              <span><%= article.date.strftime('%b %e') %></span></li>
          <% end %>
        </ul>

        <span class='title'>Tags</span>
        <ul>
          <% blog.tags.each do |tag, articles| %>
            <li><%= link_to tag, tag_path(tag) %> (<%= articles.size %>)</a></li>
          <% end %>
        </ul>

        <span class='title'>By Year</span>
        <ul>
          <% blog.articles.group_by {|a| a.date.year }.each do |year, articles| %>
            <li><%= link_to year, blog_year_path(year) %> (<%= articles.size %>)</a></li>
          <% end %>
        </ul>
      </div>

      <div class='clear'></div>
      <div class='centertop centercap centerbg'></div>
      <div class='centertile centerbg'></div>
      <div class='centerbot centercap centerbg'></div>
    </div>
  </body>
</html>
